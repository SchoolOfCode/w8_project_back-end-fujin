const testData = [
    {"carrierCode":{"iata":"U2","icao":null},"serviceSuffix":null,"flightNumber":7948,"sequenceNumber":1,"departure":{"airport":{"iata":"VIE"},"terminal":"0","passengerLocalTime":"16:15"},"arrival":{"airport":{"iata":"AMS"},"terminal":null,"passengerLocalTime":"18:10"},"aircraftType":{"iata":"319"},"serviceTypeCode":{"iata":"X"},"arrivalIntervalDays":0,"legArrivalIntervalDays":0,"effectivePeriod":{"startDate":"2022-07-24","endDate":"2022-07-24"},"segmentInfo":{"numberOfStops":0,"intermediateAirports":{"iata":[]}},"legDaysOfOperation":["sunday"],"oagFingerprint":"0000006f915061a0dca7f6056c2d0e6462ca8d34d1003c1e17c11de2e6361009","codeshare":{"operatingAirlineDisclosure":null,"aircraftOwner":null,"cockpitCrewEmployer":null,"jointOperationAirlineDesignators":[],"comments010":[],"comment050":null},"bookingClasses":[{"code":"W","meal":""},{"code":"B","meal":""},{"code":"Y","meal":""}],"freightClasses":[],"restrictions":[{"number":8,"code":"B","passenger":true,"cargo":true,"mail":true,"boardPoint":false,"offPoint":false}],"planeChangeWithoutAircraftChange":false,"onTimePerformance":{"indicator":null,"delaysAndCancellationsIndicator":null},"inFlightServices":["9"],"automatedCheckIn":null,"electronicTicketing":true,"secureFlightIndicator":false,"governmentApproval":false,"premiumContent":null},{"carrierCode":{"iata":"U2","icao":null},"serviceSuffix":null,"flightNumber":7935,"sequenceNumber":1,"departure":{"airport":{"iata":"AMS"},"terminal":null,"passengerLocalTime":"09:05"},"arrival":{"airport":{"iata":"HRG"},"terminal":"1","passengerLocalTime":"15:15"},"aircraftType":{"iata":"320"},"serviceTypeCode":{"iata":"J"},"arrivalIntervalDays":0,"legArrivalIntervalDays":0,"effectivePeriod":{"startDate":"2021-12-07","endDate":"2021-12-07"},"segmentInfo":{"numberOfStops":0,"intermediateAirports":{"iata":[]}},"legDaysOfOperation":["tuesday"],"oagFingerprint":"00000086f2247af9fe39cbb3b402c79b4b3beb9e18ec30a6d3efb5e12ae8c4e4","codeshare":{"operatingAirlineDisclosure":null,"aircraftOwner":null,"cockpitCrewEmployer":null,"jointOperationAirlineDesignators":[],"comments010":[],"comment050":null},"bookingClasses":[{"code":"W","meal":""},{"code":"B","meal":""},{"code":"Y","meal":""}],"freightClasses":[],"restrictions":[{"number":8,"code":"B","passenger":true,"cargo":true,"mail":true,"boardPoint":false,"offPoint":false}],"planeChangeWithoutAircraftChange":false,"onTimePerformance":{"indicator":null,"delaysAndCancellationsIndicator":null},"inFlightServices":["9"],"automatedCheckIn":null,"electronicTicketing":true,"secureFlightIndicator":false,"governmentApproval":false,"premiumContent":null},{"carrierCode":{"iata":"LA","icao":"LAN"},"serviceSuffix":null,"flightNumber":65,"sequenceNumber":1,"departure":{"airport":{"iata":"SCL"},"terminal":null,"passengerLocalTime":"17:26"},"arrival":{"airport":{"iata":"PMC"},"terminal":null,"passengerLocalTime":"19:09"},"aircraftType":{"iata":"320"},"serviceTypeCode":{"iata":"J"},"arrivalIntervalDays":0,"legArrivalIntervalDays":0,"effectivePeriod":{"startDate":"2022-03-06","endDate":"2022-03-09"},"segmentInfo":{"numberOfStops":0,"intermediateAirports":{"iata":[]}},"legDaysOfOperation":["sunday"],"oagFingerprint":"0000014f223153e660c27418df1fb8ba50895191e437069040f6233e0dc03f3e","codeshare":{"operatingAirlineDisclosure":{"code":"","name":"LATAM AIRLINES CHILE","number":"127X"},"aircraftOwner":null,"cockpitCrewEmployer":null,"jointOperationAirlineDesignators":[],"comments010":[],"comment050":null},"bookingClasses":[{"code":"W","meal":"G"},{"code":"P","meal":"G"},{"code":"Y","meal":"G"},{"code":"B","meal":"G"},{"code":"H","meal":"G"},{"code":"K","meal":"G"},{"code":"M","meal":"G"},{"code":"L","meal":"G"},{"code":"V","meal":"G"},{"code":"X","meal":"G"},{"code":"S","meal":"G"},{"code":"N","meal":"G"},{"code":"Q","meal":"G"},{"code":"O","meal":"G"},{"code":"G","meal":"G"},{"code":"A","meal":"G"}],"freightClasses":[],"restrictions":[],"planeChangeWithoutAircraftChange":false,"onTimePerformance":{"indicator":null,"delaysAndCancellationsIndicator":null},"inFlightServices":[],"automatedCheckIn":null,"electronicTicketing":true,"secureFlightIndicator":false,"governmentApproval":false,"premiumContent":null},{"carrierCode":{"iata":"WN","icao":"SWA"},"serviceSuffix":null,"flightNumber":3159,"sequenceNumber":2,"departure":{"airport":{"iata":"LAS"},"terminal":"1","passengerLocalTime":"08:00"},"arrival":{"airport":{"iata":"SNA"},"terminal":null,"passengerLocalTime":"09:05"},"aircraftType":{"iata":"73W"},"serviceTypeCode":{"iata":"J"},"arrivalIntervalDays":0,"legArrivalIntervalDays":0,"effectivePeriod":{"startDate":"2022-01-04","endDate":"2022-01-05"},"segmentInfo":{"numberOfStops":0,"intermediateAirports":{"iata":[]}},"legDaysOfOperation":["tuesday","wednesday"],"oagFingerprint":"0000056a2749f480384107403475bae3cd4690df3202959fbccb5d0eb39286a9","codeshare":{"operatingAirlineDisclosure":null,"aircraftOwner":null,"cockpitCrewEmployer":null,"jointOperationAirlineDesignators":[],"comments010":[],"comment050":null},"bookingClasses":[{"code":"Y","meal":""},{"code":"K","meal":""},{"code":"L","meal":""},{"code":"B","meal":""},{"code":"Q","meal":""},{"code":"H","meal":""},{"code":"W","meal":""},{"code":"R","meal":""},{"code":"O","meal":""},{"code":"M","meal":""},{"code":"S","meal":""},{"code":"N","meal":""},{"code":"T","meal":""},{"code":"I","meal":""},{"code":"C","meal":""},{"code":"P","meal":""},{"code":"U","meal":""},{"code":"G","meal":""},{"code":"E","meal":""},{"code":"Z","meal":""},{"code":"F","meal":""},{"code":"A","meal":""},{"code":"J","meal":""},{"code":"D","meal":""},{"code":"V","meal":""}],"freightClasses":[],"restrictions":[{"number":8,"code":"F","passenger":true,"cargo":true,"mail":true,"boardPoint":false,"offPoint":false}],"planeChangeWithoutAircraftChange":false,"onTimePerformance":{"indicator":null,"delaysAndCancellationsIndicator":{"month":"JUL21","min15":"095","min30":"006","min30Warning":"N","cancel":"000"}},"inFlightServices":[],"automatedCheckIn":null,"electronicTicketing":true,"secureFlightIndicator":true,"governmentApproval":false,"premiumContent":null},{"carrierCode":{"iata":"U2","icao":null},"serviceSuffix":null,"flightNumber":8113,"sequenceNumber":1,"departure":{"airport":{"iata":"LGW"},"terminal":"N","passengerLocalTime":"07:05"},"arrival":{"airport":{"iata":"ZRH"},"terminal":null,"passengerLocalTime":"09:50"},"aircraftType":{"iata":"319"},"serviceTypeCode":{"iata":"J"},"arrivalIntervalDays":0,"legArrivalIntervalDays":0,"effectivePeriod":{"startDate":"2022-08-05","endDate":"2022-08-05"},"segmentInfo":{"numberOfStops":0,"intermediateAirports":{"iata":[]}},"legDaysOfOperation":["friday"],"oagFingerprint":"000006aeeb55c4d1a8e8943b73372270ca99bb090f46a6df7e65c3ef6b7e8f8e","codeshare":{"operatingAirlineDisclosure":null,"aircraftOwner":null,"cockpitCrewEmployer":null,"jointOperationAirlineDesignators":[],"comments010":[],"comment050":null},"bookingClasses":[{"code":"W","meal":""},{"code":"B","meal":""},{"code":"Y","meal":""}],"freightClasses":[],"restrictions":[{"number":8,"code":"B","passenger":true,"cargo":true,"mail":true,"boardPoint":false,"offPoint":false}],"planeChangeWithoutAircraftChange":false,"onTimePerformance":{"indicator":null,"delaysAndCancellationsIndicator":null},"inFlightServices":["9"],"automatedCheckIn":null,"electronicTicketing":true,"secureFlightIndicator":false,"governmentApproval":false,"premiumContent":null}];

const passengerCodes = ['C', 'G', 'J', 'L', 'Q', 'R']

const selectFields = (rawData) => {
   const cleanData = rawData.filter(item => passengerCodes.includes(item.serviceTypeCode.iata))
        .map(item => {return {
       airline: item.carrierCode,
       flightNumber: item.flightNumber,
       departure: item.departure,
       arrival: item.arrival,
       serviceTypeCode: item.serviceTypeCode,
       effectivePeriod: item.effectivePeriod,
       segmentInfo: item.segmentInfo,
       legDaysOfOperation: item.legDaysOfOperation,
       restrictions: item.restrictions,
       onTimePerformance: item.onTimePerformance,
       automatedCheckIn: item.automatedCheckIn,
       electronicTicketing: item.electronicTicketing
   }})
   
   
   return cleanData
}

console.log(selectFields(testData))